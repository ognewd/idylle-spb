# üì¶ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º —Ç–æ–≤–∞—Ä–∞

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –∫ –æ–¥–Ω–æ–º—É —Ç–æ–≤–∞—Ä—É –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞–∑–Ω—ã–µ –æ–±—ä—ë–º—ã –ø–∞—Ä—Ñ—é–º–∞) —Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º–∏ —Ü–µ–Ω–∞–º–∏, —Å–∫–∏–¥–∫–∞–º–∏ –∏ –æ—Å—Ç–∞—Ç–∫–∞–º–∏ –Ω–∞ —Å–∫–ª–∞–¥–µ.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –ù–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –¥–ª—è –æ–¥–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
- ‚úÖ –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞
- ‚úÖ –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –¥–æ —Å–∫–∏–¥–∫–∏ (comparePrice)
- ‚úÖ –û—Ç–¥–µ–ª—å–Ω—ã–π —Å–∫–ª–∞–¥—Å–∫–æ–π —É—á–µ—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞
- ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π UI –¥–ª—è –≤—ã–±–æ—Ä–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ (–∫–∞–∫ –Ω–∞ Randewoo)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç —Å–∫–∏–¥–æ–∫
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Å—Ç–∞—Ç–∫–æ–≤ –Ω–∞ —Å–∫–ª–∞–¥–µ

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –ú–æ–¥–µ–ª—å ProductVariant

```prisma
model ProductVariant {
  id           String   @id @default(cuid())
  productId    String
  name         String   // "–û–±—ä—ë–º" –∏–ª–∏ "Volume"
  value        String   // "1.5–º–ª", "60–º–ª", "100–º–ª"
  price        Decimal  @db.Decimal(10, 2)
  comparePrice Decimal? @db.Decimal(10, 2) // –°—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞ –¥–ª—è —Å–∫–∏–¥–∫–∏
  stock        Int      @default(0)
  sku          String?
  isDefault    Boolean  @default(false) // –í–∞—Ä–∏–∞–Ω—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  sortOrder    Int      @default(0)     // –ü–æ—Ä—è–¥–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  product Product @relation(...)
}
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∞–¥–º–∏–Ω–∫–µ

### –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å** ‚Üí **–¢–æ–≤–∞—Ä—ã** ‚Üí **–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä**
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–≤–∞—Ä–µ
3. –í —Å–µ–∫—Ü–∏–∏ **"–í–∞—Ä–∏–∞–Ω—Ç—ã —Ç–æ–≤–∞—Ä–∞ (–æ–±—ä—ë–º—ã)"** –Ω–∞–∂–º–∏—Ç–µ **"–î–æ–±–∞–≤–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç"**
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞:
   - **–ù–∞–∑–≤–∞–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–∞**: –æ–±—ã—á–Ω–æ "–û–±—ä—ë–º" –∏–ª–∏ "–î—É—Ö–∏"
   - **–ó–Ω–∞—á–µ–Ω–∏–µ**: –Ω–∞–ø—Ä–∏–º–µ—Ä "60–º–ª", "1.5–º–ª"
   - **–¶–µ–Ω–∞**: –∞–∫—Ç—É–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞
   - **–°—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞**: —Ü–µ–Ω–∞ –¥–æ —Å–∫–∏–¥–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - **–û—Å—Ç–∞—Ç–æ–∫**: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞ —Å–∫–ª–∞–¥–µ
   - **–ê—Ä—Ç–∏–∫—É–ª**: SKU –¥–ª—è –≤–∞—Ä–∏–∞–Ω—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
5. –û—Ç–º–µ—Ç—å—Ç–µ –æ–¥–∏–Ω –≤–∞—Ä–∏–∞–Ω—Ç –∫–∞–∫ **"–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é"** ‚Äî –æ–Ω –±—É–¥–µ—Ç –≤—ã–±—Ä–∞–Ω –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### –í–∞–∂–Ω–æ!

- –ï—Å–ª–∏ —É —Ç–æ–≤–∞—Ä–∞ –µ—Å—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã, –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è `price`, `stock`, `sku`, `volume` –±—É–¥—É—Ç **–æ—Ç–∫–ª—é—á–µ–Ω—ã**
- –í—Å–µ —Ü–µ–Ω—ã –∏ –æ—Å—Ç–∞—Ç–∫–∏ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ –≤–∞—Ä–∏–∞–Ω—Ç—ã
- –ü–µ—Ä–≤—ã–π –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

## –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ

### UI –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ç–æ–≤–∞—Ä–∞ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –≤–∏–¥–µ –∫–∞—Ä—Ç–æ—á–µ–∫ —Å –∫–Ω–æ–ø–∫–æ–π "–í –∫–æ—Ä–∑–∏–Ω—É":

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ -30%                    [badge]  ‚îÇ
‚îÇ 60–º–ª                             ‚îÇ
‚îÇ 13 516 ‚ÇΩ                         ‚îÇ
‚îÇ 19 309 ‚ÇΩ            [–∑–∞—á—ë—Ä–∫–Ω—É—Ç–æ] ‚îÇ
‚îÇ –û—Å—Ç–∞–ª–æ—Å—å 8 —à—Ç.                   ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ  üõí  –í –∫–æ—Ä–∑–∏–Ω—É               ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- **–ë—ã—Å—Ç—Ä–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É**: –∫–∞–∂–¥—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –∏–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –∫–Ω–æ–ø–∫—É "–í –∫–æ—Ä–∑–∏–Ω—É"
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –±–µ–∑ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
- –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –≤–∞—Ä–∏–∞–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è:
  - –¶–µ–Ω–∞ —Ç–æ–≤–∞—Ä–∞
  - –ü—Ä–æ—Ü–µ–Ω—Ç —Å–∫–∏–¥–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
  - –î–æ—Å—Ç—É–ø–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
  - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ–Ω—É—Å–∞—Ö
- –í–∞—Ä–∏–∞–Ω—Ç—ã –±–µ–∑ –æ—Å—Ç–∞—Ç–∫–æ–≤ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–º–∏
- –í—ã–±—Ä–∞–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç—Å—è —Ä–∞–º–∫–æ–π

## API

### –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏

**POST** `/api/admin/products`

```json
{
  "name": "Gucci Guilty Elixir",
  "slug": "gucci-guilty-elixir",
  "brandId": "...",
  "categoryIds": ["..."],
  "variants": [
    {
      "name": "–î—É—Ö–∏",
      "value": "1.5–º–ª",
      "price": "533",
      "comparePrice": "710",
      "stock": "15",
      "sku": "GUCCI-1.5ML",
      "isDefault": true
    },
    {
      "name": "–î—É—Ö–∏",
      "value": "60–º–ª",
      "price": "13516",
      "comparePrice": "19309",
      "stock": "8",
      "sku": "GUCCI-60ML",
      "isDefault": false
    }
  ]
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏

**GET** `/api/products/[slug]`

–û—Ç–≤–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞–µ—Ç –º–∞—Å—Å–∏–≤ `variants` —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∫–∞–∂–¥–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ.

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ü–∞—Ä—Ñ—é–º —Å —Ä–∞–∑–Ω—ã–º–∏ –æ–±—ä—ë–º–∞–º–∏

```typescript
const variants = [
  {
    name: '–î—É—Ö–∏',
    value: '1.5–º–ª',
    price: 533,
    comparePrice: 710,
    stock: 15,
    isDefault: true,
  },
  {
    name: '–î—É—Ö–∏',
    value: '60–º–ª',
    price: 13516,
    comparePrice: 19309,
    stock: 8,
  },
  {
    name: '–î—É—Ö–∏',
    value: '100–º–ª',
    price: 22500,
    stock: 5,
  },
];
```

### –ü—Ä–∏–º–µ—Ä 2: –¢–æ–≤–∞—Ä –±–µ–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

–ï—Å–ª–∏ —É —Ç–æ–≤–∞—Ä–∞ –Ω–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ–ª—è `price`, `stock`, `sku`.

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–æ—Ä–∑–∏–Ω–æ–π

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:
- ID —Ç–æ–≤–∞—Ä–∞
- ID –≤–∞—Ä–∏–∞–Ω—Ç–∞ (–µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω)
- –ù–∞–∑–≤–∞–Ω–∏–µ –∏ –∑–Ω–∞—á–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑–ª–∏—á–∞—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω–µ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Ç–æ–≤–∞—Ä —Å —Ä–∞–∑–Ω—ã–º–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏.

## –°–∫—Ä–∏–ø—Ç—ã

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏

```bash
npm run tsx scripts/add-variant-product.ts
```

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –¢–æ–≤–∞—Ä —Å–æ–∑–¥–∞—ë—Ç—Å—è –±–µ–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –∑–∞–ø—Ä–æ—Å–µ –ø–µ—Ä–µ–¥–∞–Ω –º–∞—Å—Å–∏–≤ `variants` –∏ –æ–Ω –Ω–µ –ø—É—Å—Ç–æ–π.

### –¶–µ–Ω—ã –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –≤–∞—Ä–∏–∞–Ω—Ç–∞

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —É –≤–∞—Ä–∏–∞–Ω—Ç–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É–∫–∞–∑–∞–Ω–æ –ø–æ–ª–µ `price` (–Ω–µ `price: null`).

### –í–∞—Ä–∏–∞–Ω—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ö–æ—Ç—è –±—ã —É –æ–¥–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ `isDefault: true`.

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

- –í–∞—Ä–∏–∞–Ω—Ç—ã —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ –ø–æ–ª—é `sortOrder`
- –°–∫–∏–¥–∫–∞ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏: `(comparePrice - price) / comparePrice * 100`
- –ë–æ–Ω—É—Å–Ω—ã–µ –±–∞–ª–ª—ã: `price * 0.011` (1.1% –æ—Ç —Ü–µ–Ω—ã)

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 21.10.2025

