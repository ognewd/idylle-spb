# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ —Å–±–æ—Ä–∫–∏ –Ω–∞ Railway

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

–î–µ–ø–ª–æ–π –Ω–∞ Railway –ø—Ä–æ–≤–∞–ª–∏–ª—Å—è —Å –æ—à–∏–±–∫–æ–π:
```
npm error command failed
npm error command sh -c prisma generate
```

**–ü—Ä–∏—á–∏–Ω–∞:** 
- `prisma generate` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ —Å–∫—Ä–∏–ø—Ç–µ `postinstall` –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ `npm ci`
- –ù–æ –Ω–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞
- `DATABASE_URL` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- Prisma –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏ –ø–∞–¥–∞–µ—Ç

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –°–¥–µ–ª–∞—Ç—å postinstall –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–º (–£–ñ–ï –°–î–ï–õ–ê–ù–û)

–ò–∑–º–µ–Ω–µ–Ω —Å–∫—Ä–∏–ø—Ç `postinstall`:
```json
"postinstall": "prisma generate || true"
```

–¢–µ–ø–µ—Ä—å –¥–∞–∂–µ –µ—Å–ª–∏ `prisma generate` —É–ø–∞–¥–µ—Ç, —Å–±–æ—Ä–∫–∞ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è.

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Railway Build Settings

Railway –º–æ–∂–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞—Ç—å `prisma generate` –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. –í Railway Dashboard –æ—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"Settings"** ‚Üí **"Build"**
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ **Build Command** —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:
   ```
   prisma generate && next build
   ```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –ü–ï–†–ï–î –¥–µ–ø–ª–æ–µ–º

**–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø:**

1. **–°–æ–∑–¥–∞–π—Ç–µ PostgreSQL –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –°–ù–ê–ß–ê–õ–ê:**
   - –í Railway Dashboard –Ω–∞–∂–º–∏—Ç–µ **"+ New"**
   - –í—ã–±–µ—Ä–∏—Ç–µ **"Database"** ‚Üí **"Add PostgreSQL"**
   - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏—Ç `DATABASE_URL` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

2. **–ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–π:**
   - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
   - –¢–µ–ø–µ—Ä—å `DATABASE_URL` –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏

## üîç –ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å–µ–π—á–∞—Å

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å PostgreSQL –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

1. –í Railway Dashboard –æ—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç `idylle-spb`
2. –ù–∞–∂–º–∏—Ç–µ **"+ New"** (–≤–≤–µ—Ä—Ö—É —Å–ø—Ä–∞–≤–∞)
3. –í—ã–±–µ—Ä–∏—Ç–µ **"Database"** ‚Üí **"Add PostgreSQL"**
4. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
   - –°–æ–∑–¥–∞—Å—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
   - –î–æ–±–∞–≤–∏—Ç `DATABASE_URL` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç –¥–µ–ø–ª–æ–π

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–µ–ø–ª–æ–π

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
1. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –¢–µ–ø–µ—Ä—å `DATABASE_URL` –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏
3. `prisma generate` –¥–æ–ª–∂–µ–Ω –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è —É—Å–ø–µ—à–Ω–æ

### –®–∞–≥ 3: –ï—Å–ª–∏ –¥–µ–ø–ª–æ–π –≤—Å–µ –µ—â–µ –ø–∞–¥–∞–µ—Ç

–ï—Å–ª–∏ –¥–µ–ø–ª–æ–π –≤—Å–µ –µ—â–µ –ø–∞–¥–∞–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `DATABASE_URL` –¥–æ–±–∞–≤–ª–µ–Ω (–¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
   - –î–æ–±–∞–≤—å—Ç–µ –¥—Ä—É–≥–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (—Å–º. `NEXT_STEPS_RAILWAY.md`)

2. **Build Command:**
   - –í Settings ‚Üí Build –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–º–∞–Ω–¥—É —Å–±–æ—Ä–∫–∏
   - –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å: `prisma generate && next build`

3. **–õ–æ–≥–∏:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –¥–µ–ø–ª–æ—è –≤ Railway Dashboard
   - –ò—â–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Build Command –≤ Railway

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –≤ Railway
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"Settings"** ‚Üí **"Build"**
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
   - **Build Command:** `prisma generate && next build`
   - **Start Command:** `next start`
   - **Root Directory:** `/` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

## ‚úÖ –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è

–ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –¥–µ–ø–ª–æ–π –ø—Ä–æ–π–¥–µ—Ç —É—Å–ø–µ—à–Ω–æ:

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** (—Å–º. `NEXT_STEPS_RAILWAY.md`)
2. **–ü–æ–ª—É—á–∏—Ç–µ URL –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** (Settings ‚Üí Domains)
3. **–û–±–Ω–æ–≤–∏—Ç–µ NEXTAUTH_URL** –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
4. **–ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏:**
   ```bash
   railway run npx prisma db push
   ```

## üéØ –°–µ–π—á–∞—Å –¥–µ–ª–∞–µ–º

**–°–æ–∑–¥–∞–π—Ç–µ PostgreSQL –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –≤ Railway, –∑–∞—Ç–µ–º Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º DATABASE_URL!**

